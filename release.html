<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MDACA Product Image Releases</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.min.js"></script>
</head>
<body>
    <div class="container">
        <h1 class="mt-5">MDACA Image Releases</h1>

        <!-- Add the image below the heading -->
        <img src="https://github.com/stevensrtw/docker-image-versions/blob/main/logo.png?raw=true" alt="Logo" class="img-fluid" />

        <input class="form-control mt-3 mb-3" id="search" placeholder="Search for Docker images..." onkeyup="searchTable()">
        
        <table class="table table-bordered table-hover">
            <thead>
                <tr>
                    <th>Image Name</th>
                    <th>Version</th>
                    <th>Date of Release</th>
                    <th>Manifest</th>
                </tr>
            </thead>
            <tbody id="dockerTable">
                <tr>
                    <td>jupyter-hub</td>
                    <td class="version" data-name="jupyter-hub" data-version="5.1.0.0">5.1.0.0</td>
                    <td class="release-date" data-name="jupyter-hub" data-date="September 23, 2024">September 23, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-hub')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>jupyter-http-proxy</td>
                    <td class="version" data-name="jupyter-http-proxy" data-version="4.6.2">4.6.2</td>
                    <td class="release-date" data-name="jupyter-http-proxy" data-date="September 30, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-http-proxy')">View Manifest</button></td>
                </tr>
                 <tr>
                    <td>jupyter-datascience-notebook</td>
                    <td class="version" data-name="jupyter-datascience-notebook" data-version="5.1.0">5.1.0</td>
                    <td class="release-date" data-name="jupyter-datascience-notebook" data-date="September 30, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-datascience-notebook')">View Manifest</button></td>
                </tr>
                 <tr>
                    <td>jupyter-k8s-image-awaiter</td>
                    <td class="version" data-name="jupyter-k8s-image-awaiter" data-version="3.3.8">3.3.8</td>
                    <td class="release-date" data-name="jjupyter-k8s-image-awaiter" data-date="September 30, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-k8s-image-awaiter')">View Manifest</button></td>
                </tr>
                 <tr>
                    <td>jupyter-k8s-kube-scheduler</td>
                    <td class="version" data-name="jupyter-k8s-kube-scheduler" data-version="1.31.0">1.31.0</td>
                    <td class="release-date" data-name="jupyter-k8s-kube-scheduler" data-date="September 26, 2024">September 26, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-k8s-kube-scheduler')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>jupyter-k8s-secrets-sync</td>
                    <td class="version" data-name="jupyter-k8s-secrets-sync" data-version="0.19.0">0.19.0</td>
                    <td class="release-date" data-name="jupyter-k8s-secrets-sync" data-date="September 30, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-k8s-secrets-sync')">View Manifest</button></td>
                </tr>
                 <tr>
                    <td>jupyter-k8s-network-tools</td>
                    <td class="version" data-name="jupyter-k8s-network-tools" data-version="1.0.0">1.0.0</td>
                    <td class="release-date" data-name="jupyter-k8s-network-tools" data-date="September 30, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-k8s-network-tools')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>jupyter-k8s-pause</td>
                    <td class="version" data-name="jupyter-k8s-pause" data-version="3.10.0">3.10.0</td>
                    <td class="release-date" data-name="jupyter-k8-pause" data-date="September 26, 2024">September 30, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('jupyter-k8s-pause')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>ohdsi-webapi</td>
                    <td class="version" data-name="ohdsi-webapi" data-version="3.0.1">3.0.1</td>
                    <td class="release-date" data-name="ohdsi-webapi" data-date="September 24, 2024">September 24, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('ohdsi-webapi')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>ohdsi-atlas</td>
                    <td class="version" data-name="ohdsi-atlas" data-version="2.14.1">2.14.1</td>
                    <td class="release-date" data-name="ohdsi-atlas" data-date="September 24, 2024">September 24, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('ohdsi-atlas')">View Manifest</button></td>
                </tr>
                <tr>
                    <td>ohdsi-achilles</td>
                    <td class="version" data-name="ohdsi-achilles" data-version="1.7.2">1.7.2</td>
                    <td class="release-date" data-name="ohdsi-achilles" data-date="September 22, 2024">September 22, 2024</td>
                    <td><button class="btn btn-primary" onclick="showManifest('ohdsi-achilles')">View Manifest</button></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Modal to show manifest -->
    <div class="modal fade" id="manifestModal" tabindex="-1" aria-labelledby="manifestModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="manifestModalLabel">Docker Image Manifest</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body" id="manifestContent">
                    <!-- Manifest content will be inserted here -->
                </div>
            </div>
        </div>
    </div>

<script>
    const manifests = {
        'jupyter-k8s-secrets-sync': {
            "schemaVersion": 2,
            "mediaType": "application/vnd.docker.distribution.manifest.v2+json",
            "config": {
                "mediaType": "application/vnd.docker.container.image.v1+json",
                "size": 7144,
                "digest": "sha256:7e11a00f1f8cc6e27e1f747189be8aed7c2a0e5d987a877e3fa47647d11bda46"
            },
            "layers": [
                {
                    "mediaType": "application/vnd.docker.image.rootfs.diff.tar.gzip",
                    "size": 3622892,
                    "digest": "sha256:c6a83fedfae6ed8a4f5f7cbb6a7b6f1c1ec3d86fea8cb9e5ba2e5e6673fde9f6"
                },
                {
                    "mediaType": "application/vnd.docker.image.rootfs.diff.tar.gzip",
                    "size": 3854213,
                    "digest": "sha256:8a3fa893c72240697f2120cc68386ea1e7b3d73e0d65e3e5fe1bba0c4faf272f"
                },
                {
                    "mediaType": "application/vnd.docker.image.rootfs.diff.tar.gzip",
                    "size": 1644254,
                    "digest": "sha256:b570c677ba9da08520f67a8661c39603d308a1b47d57627bd7cd14a1ed20c2aa"
                },
                {
                    "mediaType": "application/vnd.docker.image.rootfs.diff.tar.gzip",
                    "size": 12951,
                    "digest": "sha256:d3fa1c7315fd0b40ba46ba89c1dff56a765ac87537f812f907e1dc9285500e17"
                },
                {
                    "mediaType": "application/vnd.docker.image.rootfs.diff.tar.gzip",
                    "size": 12951,
                    "digest": "sha256:5402ce1a9ad87f0bf7781a4707594d7affcda64312dd9b22eaa828c479a7c94e"
                }
            ]
        }
    };

    function showManifest(imageName) {
        const manifestContent = manifests[imageName] ? JSON.stringify(manifests[imageName], null, 2) : 'Manifest not found';
        document.getElementById('manifestContent').textContent = manifestContent;
        new bootstrap.Modal(document.getElementById('manifestModal')).show();
    }

    function searchTable() {
        const input = document.getElementById('search').value.toUpperCase();
        const table = document.getElementById('dockerTable');
        const tr = table.getElementsByTagName('tr');

        for (let i = 0; i < tr.length; i++) {
            const td = tr[i].getElementsByTagName('td')[0];
            if (td) {
                const txtValue = td.textContent || td.innerText;
                tr[i].style.display = txtValue.toUpperCase().indexOf(input) > -1 ? "" : "none";
            }       
        }
    }
</script>

</body>
</html>
